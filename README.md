# FindShroom – приложение для распознавания грибов

Android‑приложение для распознавания грибов по фото с помощью облачного бэкенда (FastAPI + CLIP на Hugging Face), с картой меток (на базе **Yandex MapKit**) и локальным справочником грибов.

> ⚠️ ВАЖНО: результаты распознавания **неточны** и предназначены только для демонстрации работы нейросети.  
> НЕЛЬЗЯ использовать это приложение, чтобы решать, можно ли есть гриб, и для любых медицинских решений.

---

## Функциональность

- **Распознавание грибов**
  - Фото с камеры или из галереи
  - Отправка изображения на бэкенд в Hugging Face Space (FastAPI + CLIP)
  - Получение структурированного JSON‑ответа:
    ```json
    {
      "name": "Название гриба",
      "scientificName": "Научное название",
      "isEdible": true/false,
      "description": "...",
      "habitat": "...",
      "season": "...",
      "characteristics": "..."
    }
    ```
  - Отображение результата и возможность сохранить гриб в локальный справочник

- **Карта с метками (Yandex MapKit)**
  - Просмотр карты на базе Yandex MapKit
  - Добавление меток с координатами и фото найденных грибов
  - Просмотр и редактирование сохранённых точек

- **Справочник грибов**
  - Локальная база грибов (Room)
  - Поиск, добавление, редактирование и удаление записей
  - Возможность сохранять результат распознавания в справочник

---

## Технологии

### Android

- **Kotlin**
- **Jetpack Compose** – декларативный UI
- **MVVM** – разделение ответственности (View → ViewModel → Repository)
- **Room** – локальное хранение данных (грибы, метки)
- **Hilt** – DI
- **Navigation Compose** – навигация по экранам
- **StateFlow** – реактивное обновление UI
- **Yandex MapKit** – карта с метками
- **OkHttp** – HTTP‑клиент для связи с бэкендом

### Бэкенд (Hugging Face Spaces)

- **Hugging Face Spaces (Docker)** – деплой бэкенда
- **FastAPI** – HTTP‑API `/predict`
- **Uvicorn** – ASGI‑сервер
- **Transformers + CLIP (openai/clip-vit-base-patch32)** – модель для сопоставления изображения и текстовых описаний грибов
- **Torch** – вычисления
- **Pillow** – загрузка/обработка изображений

Архитектура распознавания:  
мобильное приложение – «тонкий клиент», нейросеть и логика распознавания находятся **в облаке**.

---

## Разрешения

Приложение запрашивает следующие разрешения:

- **Камера** – фотографирование грибов
- **Местоположение** – отображение текущего положения и меток на карте (Yandex MapKit)
- **Доступ к медиатеке / хранилищу** – выбор фото из галереи (в зависимости от версии Android: READ_MEDIA_IMAGES / READ_EXTERNAL_STORAGE)

---

## Структура проекта

```text
app/src/main/java/com/example/findshroom/
├── data/
│   ├── dao/              # Room DAO интерфейсы
│   ├── database/         # Room Database
│   ├── model/            # Модели данных (Mushroom, MapMarker)
│   └── repository/       # Репозитории (MushroomRepository, MapMarkerRepository, HuggingFaceRepository)
├── di/                   # Hilt модули
├── ui/
│   ├── navigation/       # Навигация (NavGraph)
│   ├── screen/           # Экраны приложения
│   │   ├── guide/        # Справочник грибов
│   │   ├── map/          # Карта с метками (Yandex MapKit)
│   │   └── recognition/  # Распознавание грибов
│   ├── theme/            # Тема приложения
│   └── viewmodel/        # ViewModels (Recognition, Map, Guide)
└── FindShroomApplication.kt
